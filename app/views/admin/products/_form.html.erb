<%= form_with model: @product, url: form_url, method: form_method, local: true, html: { multipart: true } do |f| %>
  <div class="mb-3">
    <%= f.label :name, 'Nombre', class: 'form-label' %>
    <%= f.text_field :name, class: 'form-control', required: true %>
  </div>
  <div class="mb-3">
    <%= f.label :description, 'Descripción', class: 'form-label' %>
    <%= f.text_area :description, class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= f.label :price, 'Precio', class: 'form-label' %>
    <%= f.number_field :price, step: 0.01, class: 'form-control', required: true %>
  </div>
  <div class="mb-3">
    <%= f.label :stock, 'Stock', class: 'form-label' %>
    <%= f.number_field :stock, class: 'form-control', required: true %>
  </div>
  <div class="mb-3">
    <%= f.label :category_id, 'Categoría', class: 'form-label' %>
    <%= f.collection_select :category_id, @categories, :id, :name, { include_blank: true }, class: 'form-select' %>
  </div>
  <div class="mb-3">
    <%= f.label :color, 'Color', class: 'form-label' %>
    <%= f.text_field :color, class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= f.label :size, 'Tamaño', class: 'form-label' %>
    <%= f.text_field :size, class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= f.label :images, 'Fotos', class: 'form-label' %>
    <%= f.file_field :images, multiple: true, class: 'form-control' %>
    <% if @product.images.attached? %>
      <h5>Imágenes cargadas:</h5>
      <ul>
        <% @product.images.each do |image| %>
          <li>
            <%= image_tag image.variant(resize: "100x100") %> <!-- Aquí puedes ajustar el tamaño de la imagen -->
          </li>
        <% end %>
      </ul>
    <% end %>
  </div>
  <div class="d-flex justify-content-between">
    <%= f.submit 'Guardar', class: 'btn btn-primary' %>
    <%= link_to 'Cancelar', admin_products_path, class: 'btn btn-outline-secondary' %>
  </div>
<% end %>
